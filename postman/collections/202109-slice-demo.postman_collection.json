{
  "item": [
    {
      "id": "moves",
      "name": "List All Moves",
      "request": {
        "description": {
          "content": "\nThis Postman Request was created with the Postman SDK and not the Postman.app\nUI.\n\nGets all moves that have been reviewed and approved by the TOO. The `since`\nparameter can be used to filter this list down to only the moves that have been\nupdated since the provided timestamp. A move will be considered updated if the\n`updatedAt` timestamp on the move or on its orders, shipments, service items,\nor payment requests, is later than the provided date and time.\n\nThis Request uses the templates found in\n**templates/visualize.html**.\n",
          "type": "text/plain"
        },
        "url": {
          "path": [
            "moves"
          ],
          "host": [
            "{{baseUrl}}"
          ],
          "query": [],
          "variable": []
        },
        "header": [
          {
            "key": "Postman-Request-ID",
            "value": "moves"
          }
        ],
        "method": "GET",
        "body": {
          "mode": "raw",
          "raw": ""
        }
      },
      "response": [],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "74109641-0714-4553-bb69-32c4669684d2",
            "type": "text/javascript",
            "exec": [
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "1fc0bc85-872e-42e2-a836-10d09da44898",
            "type": "text/javascript",
            "exec": [
              "// A helpful function that's less characters to type to get a Collection",
              "// Variable.",
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "// A helpful function that's less characters to type to set a Collection",
              "// Variable.",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              "",
              "// A helpful map of relationships between request file names and titles.",
              "const requestIDToTitle = {",
              "  'move-task-orders': 'Get MoveTaskOrder By ID',",
              "  moves: 'Get All Moves',",
              "  'mto-shipments-sit-extensions': 'Create SIT Extension For Shipment ID',",
              "};",
              "",
              "// The response JSON that Postman created.",
              "const response = pm.response.json();",
              "",
              "// The custom header for Postman Request ID which is the filename of the",
              "// ./requests files.",
              "const pmRequestID = pm.request.getHeaders()['Postman-Request-ID'];",
              "",
              "// The template file that is set in example-get-move-task-orders/index.js that",
              "// references example-get-move-task-orders/templates/visualize.html",
              "const template = envGet('visualizeTemplate');",
              "",
              "// A helpful string that can be used to show \"undefined\" in the Visualize tab.",
              "const undefHTML = '<code>undefined</code>';",
              "",
              "// The view object that gets fed into the template file. These are base values",
              "// and will be modified in the next conditional checks around the status code.",
              "var view = {",
              "  pageTitle: requestIDToTitle[pmRequestID],",
              "  pageHeading: 'GHC Contractor',",
              "  pageAction: 'Receives Moves information',",
              "  alertTitle: '',",
              "  alertType: '',",
              "  customerFullName: envGet('customerFullName'),",
              "  moveCode: envGet('moveCode'),",
              "  moveID: envGet('moveID'),",
              "  mtoShipmentID: envGet('mtoShipmentID'),",
              "  mtoShipmentETag: envGet('mtoShipmentETag'),",
              "  reweighID: envGet('reweighID'),",
              "  reweighETag: envGet('reweighETag'),",
              "  errorMessage: '',",
              "  errorDetail: '',",
              "  errorTraceId: '',",
              "  move_task_orders: false,",
              "  moves: false,",
              "  mto_shipments_sit_extensions: false,",
              "};",
              "",
              "if (pm.response.code >= 300) {",
              "  console.debug(response);",
              "  view.alertTitle     = 'Something went wrong';",
              "  view.alertType      = 'error';",
              "  view.errorMessage   = response.title;",
              "  view.errorDetail    = response.detail;",
              "  view.errorTraceId   = response.instance;",
              "}",
              "",
              "if (pmRequestID === 'moves') {",
              "  view.moves = true;",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle = 'List All Moves';",
              "    view.pageAction = 'Get All Moves';",
              "    view.alertType  = 'success';",
              "    view.movesList = response;",
              "  }",
              "",
              "}",
              "",
              "if (pmRequestID === 'move-task-orders') {",
              "  view.move_task_orders = true;",
              "",
              "  // If the Move is found, we'll update the view object appropriately.",
              "  if (pm.response.code === 200) {",
              "    view.customerFullName = response.order.customer.firstName.trim();",
              "    view.customerFullName += ' ';",
              "    view.customerFullName += response.order.customer.lastName.trim();",
              "",
              "    console.info('Setting customerFullName in the Collection Variables');",
              "    envSet('customerFullName', view.customerFullName);",
              "",
              "    view.moveCode = response.moveCode;",
              "    view.moveID = response.id;",
              "",
              "    console.info('Setting moveTaskOrderCode, moveTaskOrderID, moveTaskOrderETag in the Collection Variables');",
              "    envSet('moveTaskOrderCode', view.moveCode);",
              "    envSet('moveTaskOrderID', view.moveID);",
              "    envSet('moveTaskOrderETag', response.eTag);",
              "    envSet('mtoShipmentID', response.mtoShipments[0].id);",
              "    envSet('mtoShipmentETag', response.mtoShipments[0].eTag);",
              "    if (response.mtoShipments[0].reweigh) {",
              "      envSet('reweighID', response.mtoShipments[0].reweigh.id);",
              "      envSet('reweighETag', response.mtoShipments[0].reweigh.eTag);",
              "    }",
              "",
              "    view.alertTitle = 'Move is now available to GHC Prime Contractor';",
              "    view.alertType  = 'success';",
              "",
              "    // prepare a payment request",
              "    const paymentRequest = {",
              "      isFinal: false,",
              "      moveTaskOrderID: view.moveID,",
              "      serviceItems: []",
              "    };",
              "    const serviceItemsToInvoice = envGet('serviceItemsToInvoice');",
              "    response.mtoServiceItems",
              "      .filter((serviceItem) => {",
              "        return serviceItemsToInvoice.includes(serviceItem.reServiceCode) && serviceItem.mtoShipmentID === response.mtoShipments[0].id;",
              "      })",
              "      .forEach((serviceItem) => {",
              "        console.info(serviceItem);",
              "        const si = { id: serviceItem.id };",
              "        if (serviceItem.reServiceCode === \"DDASIT\") {",
              "          si.params = [{",
              "",
              "            key: \"SITPaymentRequestStart\",",
              "            value: \"2021-09-01\",",
              "          },{",
              "            key: \"SITPaymentRequestEnd\",",
              "            value: \"2021-09-30\",",
              "          }];",
              "        }",
              "        paymentRequest.serviceItems.add(si);",
              "      });",
              "    envSet('paymentRequestPayload', JSON.stringify(paymentRequest, null, 2));",
              "    console.info(envGet('paymentRequestPayload'));",
              "  }",
              "",
              "  // If the Move is not found, we'll update the view object appropriately.",
              "  if (pm.response.code === 404) {",
              "    view.alertTitle   = 'Move is not available to GHC Prime Contractor';",
              "    view.alertType    = 'error';",
              "    view.moveCode     = undefHTML;",
              "    view.moveID       = undefHTML;",
              "    view.errorMessage = response.title;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'create-sit-mto-service-items') {",
              "  view.create_sit_mto_service_items = true;",
              "  view.pageAction = 'Create Destination SIT Service Items';",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle     = 'Destination SIT Service Items Created';",
              "    view.alertType      = 'success';",
              "    view.sitServiceItem = response;",
              "  } else {",
              "    console.debug(response);",
              "    view.alertTitle     = 'Destination SIT Service Items Create Failed';",
              "    view.alertType      = 'error';",
              "    view.errorMessage   = response.title;",
              "    view.errorDetail    = response.detail;",
              "    view.errorTraceId   = response.instance;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'mto-shipments-sit-extensions') {",
              "  view.mto_shipments_sit_extensions = true;",
              "",
              "  if (pm.response.code === 201) {",
              "    view.alertTitle = 'SIT Extension Created';",
              "    view.alertType  = 'success';",
              "    view.pageAction = 'Create SIT Extension';",
              "    view.sitExtension = response;",
              "  }",
              "",
              "}",
              "",
              "// Setup the visualization template.",
              "pm.visualizer.set(template, view);",
              ""
            ]
          }
        }
      ]
    },
    {
      "id": "move-task-orders",
      "name": "MoveTaskOrders by ID",
      "request": {
        "description": {
          "content": "\nThis Postman Request was created with the Postman SDK and not the Postman.app\nUI.\n\nThis endpoint gets an individual MoveTaskOrder by ID.\n\nIt will provide information about the Customer and any associated MTOShipments,\nMTOServiceItems and PaymentRequests.\n\nThis Request uses the templates found in\n**templates/visualize.html**.\n",
          "type": "text/plain"
        },
        "url": {
          "path": [
            "move-task-orders",
            "{{moveTaskOrderID}}"
          ],
          "host": [
            "{{baseUrl}}"
          ],
          "query": [],
          "variable": []
        },
        "header": [
          {
            "key": "Postman-Request-ID",
            "value": "move-task-orders"
          }
        ],
        "method": "GET",
        "body": {
          "mode": "raw",
          "raw": ""
        }
      },
      "response": [],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "0dcf4183-02c8-4983-8895-4f28fc3d6912",
            "type": "text/javascript",
            "exec": [
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "12a0bdd9-cfb0-42de-853c-28971d98c9aa",
            "type": "text/javascript",
            "exec": [
              "// A helpful function that's less characters to type to get a Collection",
              "// Variable.",
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "// A helpful function that's less characters to type to set a Collection",
              "// Variable.",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              "",
              "// A helpful map of relationships between request file names and titles.",
              "const requestIDToTitle = {",
              "  'move-task-orders': 'Get MoveTaskOrder By ID',",
              "  moves: 'Get All Moves',",
              "  'mto-shipments-sit-extensions': 'Create SIT Extension For Shipment ID',",
              "};",
              "",
              "// The response JSON that Postman created.",
              "const response = pm.response.json();",
              "",
              "// The custom header for Postman Request ID which is the filename of the",
              "// ./requests files.",
              "const pmRequestID = pm.request.getHeaders()['Postman-Request-ID'];",
              "",
              "// The template file that is set in example-get-move-task-orders/index.js that",
              "// references example-get-move-task-orders/templates/visualize.html",
              "const template = envGet('visualizeTemplate');",
              "",
              "// A helpful string that can be used to show \"undefined\" in the Visualize tab.",
              "const undefHTML = '<code>undefined</code>';",
              "",
              "// The view object that gets fed into the template file. These are base values",
              "// and will be modified in the next conditional checks around the status code.",
              "var view = {",
              "  pageTitle: requestIDToTitle[pmRequestID],",
              "  pageHeading: 'GHC Contractor',",
              "  pageAction: 'Receives Moves information',",
              "  alertTitle: '',",
              "  alertType: '',",
              "  customerFullName: envGet('customerFullName'),",
              "  moveCode: envGet('moveCode'),",
              "  moveID: envGet('moveID'),",
              "  mtoShipmentID: envGet('mtoShipmentID'),",
              "  mtoShipmentETag: envGet('mtoShipmentETag'),",
              "  reweighID: envGet('reweighID'),",
              "  reweighETag: envGet('reweighETag'),",
              "  errorMessage: '',",
              "  errorDetail: '',",
              "  errorTraceId: '',",
              "  move_task_orders: false,",
              "  moves: false,",
              "  mto_shipments_sit_extensions: false,",
              "};",
              "",
              "if (pm.response.code >= 300) {",
              "  console.debug(response);",
              "  view.alertTitle     = 'Something went wrong';",
              "  view.alertType      = 'error';",
              "  view.errorMessage   = response.title;",
              "  view.errorDetail    = response.detail;",
              "  view.errorTraceId   = response.instance;",
              "}",
              "",
              "if (pmRequestID === 'moves') {",
              "  view.moves = true;",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle = 'List All Moves';",
              "    view.pageAction = 'Get All Moves';",
              "    view.alertType  = 'success';",
              "    view.movesList = response;",
              "  }",
              "",
              "}",
              "",
              "if (pmRequestID === 'move-task-orders') {",
              "  view.move_task_orders = true;",
              "",
              "  // If the Move is found, we'll update the view object appropriately.",
              "  if (pm.response.code === 200) {",
              "    view.customerFullName = response.order.customer.firstName.trim();",
              "    view.customerFullName += ' ';",
              "    view.customerFullName += response.order.customer.lastName.trim();",
              "",
              "    console.info('Setting customerFullName in the Collection Variables');",
              "    envSet('customerFullName', view.customerFullName);",
              "",
              "    view.moveCode = response.moveCode;",
              "    view.moveID = response.id;",
              "",
              "    console.info('Setting moveTaskOrderCode, moveTaskOrderID, moveTaskOrderETag in the Collection Variables');",
              "    envSet('moveTaskOrderCode', view.moveCode);",
              "    envSet('moveTaskOrderID', view.moveID);",
              "    envSet('moveTaskOrderETag', response.eTag);",
              "    envSet('mtoShipmentID', response.mtoShipments[0].id);",
              "    envSet('mtoShipmentETag', response.mtoShipments[0].eTag);",
              "    if (response.mtoShipments[0].reweigh) {",
              "      envSet('reweighID', response.mtoShipments[0].reweigh.id);",
              "      envSet('reweighETag', response.mtoShipments[0].reweigh.eTag);",
              "    }",
              "",
              "    view.alertTitle = 'Move is now available to GHC Prime Contractor';",
              "    view.alertType  = 'success';",
              "",
              "    // prepare a payment request",
              "    const paymentRequest = {",
              "      isFinal: false,",
              "      moveTaskOrderID: view.moveID,",
              "      serviceItems: []",
              "    };",
              "    const serviceItemsToInvoice = envGet('serviceItemsToInvoice');",
              "    response.mtoServiceItems",
              "      .filter((serviceItem) => {",
              "        return serviceItemsToInvoice.includes(serviceItem.reServiceCode) && serviceItem.mtoShipmentID === response.mtoShipments[0].id;",
              "      })",
              "      .forEach((serviceItem) => {",
              "        console.info(serviceItem);",
              "        const si = { id: serviceItem.id };",
              "        if (serviceItem.reServiceCode === \"DDASIT\") {",
              "          si.params = [{",
              "",
              "            key: \"SITPaymentRequestStart\",",
              "            value: \"2021-09-01\",",
              "          },{",
              "            key: \"SITPaymentRequestEnd\",",
              "            value: \"2021-09-30\",",
              "          }];",
              "        }",
              "        paymentRequest.serviceItems.add(si);",
              "      });",
              "    envSet('paymentRequestPayload', JSON.stringify(paymentRequest, null, 2));",
              "    console.info(envGet('paymentRequestPayload'));",
              "  }",
              "",
              "  // If the Move is not found, we'll update the view object appropriately.",
              "  if (pm.response.code === 404) {",
              "    view.alertTitle   = 'Move is not available to GHC Prime Contractor';",
              "    view.alertType    = 'error';",
              "    view.moveCode     = undefHTML;",
              "    view.moveID       = undefHTML;",
              "    view.errorMessage = response.title;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'create-sit-mto-service-items') {",
              "  view.create_sit_mto_service_items = true;",
              "  view.pageAction = 'Create Destination SIT Service Items';",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle     = 'Destination SIT Service Items Created';",
              "    view.alertType      = 'success';",
              "    view.sitServiceItem = response;",
              "  } else {",
              "    console.debug(response);",
              "    view.alertTitle     = 'Destination SIT Service Items Create Failed';",
              "    view.alertType      = 'error';",
              "    view.errorMessage   = response.title;",
              "    view.errorDetail    = response.detail;",
              "    view.errorTraceId   = response.instance;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'mto-shipments-sit-extensions') {",
              "  view.mto_shipments_sit_extensions = true;",
              "",
              "  if (pm.response.code === 201) {",
              "    view.alertTitle = 'SIT Extension Created';",
              "    view.alertType  = 'success';",
              "    view.pageAction = 'Create SIT Extension';",
              "    view.sitExtension = response;",
              "  }",
              "",
              "}",
              "",
              "// Setup the visualization template.",
              "pm.visualizer.set(template, view);",
              ""
            ]
          }
        }
      ]
    },
    {
      "id": "create-sit-mto-service-items",
      "name": "Create DOFSIT & DOASIT",
      "request": {
        "description": {
          "content": "\nThis Postman Request was created with the Postman SDK and not the Postman.app\nUI.\n\nThis endpoint creates a storage in transit (SIT) service item for a\nshipment.\n\nThis Request uses the templates found in\n**templates/visualize.html**.\n",
          "type": "text/plain"
        },
        "url": {
          "path": [
            "mto-service-items"
          ],
          "host": [
            "{{baseUrl}}"
          ],
          "query": [],
          "variable": []
        },
        "header": [
          {
            "key": "Postman-Request-ID",
            "value": "create-sit-mto-service-items"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "method": "POST",
        "body": {
          "mode": "raw",
          "raw": "{\n  \"moveTaskOrderID\": \"{{moveTaskOrderID}}\",\n  \"mtoShipmentID\": \"{{mtoShipmentID}}\",\n  \"modelType\": \"MTOServiceItemDestSIT\",\n  \"reServiceCode\": \"DDFSIT\",\n  \"firstAvailableDeliveryDate1\": \"{{sitDate}}\",\n  \"timeMilitary1\": \"0942Z\",\n  \"firstAvailableDeliveryDate2\": \"{{sitDate}}\",\n  \"timeMilitary2\": \"0942Z\",\n  \"sitEntryDate\": \"{{sitDate}}\"\n}"
        }
      },
      "response": [],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "f1ded8a6-7bcc-4653-81a6-f6f82e2fdc9d",
            "type": "text/javascript",
            "exec": [
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "285733de-bbb7-45db-bd10-d381a834a479",
            "type": "text/javascript",
            "exec": [
              "// A helpful function that's less characters to type to get a Collection",
              "// Variable.",
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "// A helpful function that's less characters to type to set a Collection",
              "// Variable.",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              "",
              "// A helpful map of relationships between request file names and titles.",
              "const requestIDToTitle = {",
              "  'move-task-orders': 'Get MoveTaskOrder By ID',",
              "  moves: 'Get All Moves',",
              "  'mto-shipments-sit-extensions': 'Create SIT Extension For Shipment ID',",
              "};",
              "",
              "// The response JSON that Postman created.",
              "const response = pm.response.json();",
              "",
              "// The custom header for Postman Request ID which is the filename of the",
              "// ./requests files.",
              "const pmRequestID = pm.request.getHeaders()['Postman-Request-ID'];",
              "",
              "// The template file that is set in example-get-move-task-orders/index.js that",
              "// references example-get-move-task-orders/templates/visualize.html",
              "const template = envGet('visualizeTemplate');",
              "",
              "// A helpful string that can be used to show \"undefined\" in the Visualize tab.",
              "const undefHTML = '<code>undefined</code>';",
              "",
              "// The view object that gets fed into the template file. These are base values",
              "// and will be modified in the next conditional checks around the status code.",
              "var view = {",
              "  pageTitle: requestIDToTitle[pmRequestID],",
              "  pageHeading: 'GHC Contractor',",
              "  pageAction: 'Receives Moves information',",
              "  alertTitle: '',",
              "  alertType: '',",
              "  customerFullName: envGet('customerFullName'),",
              "  moveCode: envGet('moveCode'),",
              "  moveID: envGet('moveID'),",
              "  mtoShipmentID: envGet('mtoShipmentID'),",
              "  mtoShipmentETag: envGet('mtoShipmentETag'),",
              "  reweighID: envGet('reweighID'),",
              "  reweighETag: envGet('reweighETag'),",
              "  errorMessage: '',",
              "  errorDetail: '',",
              "  errorTraceId: '',",
              "  move_task_orders: false,",
              "  moves: false,",
              "  mto_shipments_sit_extensions: false,",
              "};",
              "",
              "if (pm.response.code >= 300) {",
              "  console.debug(response);",
              "  view.alertTitle     = 'Something went wrong';",
              "  view.alertType      = 'error';",
              "  view.errorMessage   = response.title;",
              "  view.errorDetail    = response.detail;",
              "  view.errorTraceId   = response.instance;",
              "}",
              "",
              "if (pmRequestID === 'moves') {",
              "  view.moves = true;",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle = 'List All Moves';",
              "    view.pageAction = 'Get All Moves';",
              "    view.alertType  = 'success';",
              "    view.movesList = response;",
              "  }",
              "",
              "}",
              "",
              "if (pmRequestID === 'move-task-orders') {",
              "  view.move_task_orders = true;",
              "",
              "  // If the Move is found, we'll update the view object appropriately.",
              "  if (pm.response.code === 200) {",
              "    view.customerFullName = response.order.customer.firstName.trim();",
              "    view.customerFullName += ' ';",
              "    view.customerFullName += response.order.customer.lastName.trim();",
              "",
              "    console.info('Setting customerFullName in the Collection Variables');",
              "    envSet('customerFullName', view.customerFullName);",
              "",
              "    view.moveCode = response.moveCode;",
              "    view.moveID = response.id;",
              "",
              "    console.info('Setting moveTaskOrderCode, moveTaskOrderID, moveTaskOrderETag in the Collection Variables');",
              "    envSet('moveTaskOrderCode', view.moveCode);",
              "    envSet('moveTaskOrderID', view.moveID);",
              "    envSet('moveTaskOrderETag', response.eTag);",
              "    envSet('mtoShipmentID', response.mtoShipments[0].id);",
              "    envSet('mtoShipmentETag', response.mtoShipments[0].eTag);",
              "    if (response.mtoShipments[0].reweigh) {",
              "      envSet('reweighID', response.mtoShipments[0].reweigh.id);",
              "      envSet('reweighETag', response.mtoShipments[0].reweigh.eTag);",
              "    }",
              "",
              "    view.alertTitle = 'Move is now available to GHC Prime Contractor';",
              "    view.alertType  = 'success';",
              "",
              "    // prepare a payment request",
              "    const paymentRequest = {",
              "      isFinal: false,",
              "      moveTaskOrderID: view.moveID,",
              "      serviceItems: []",
              "    };",
              "    const serviceItemsToInvoice = envGet('serviceItemsToInvoice');",
              "    response.mtoServiceItems",
              "      .filter((serviceItem) => {",
              "        return serviceItemsToInvoice.includes(serviceItem.reServiceCode) && serviceItem.mtoShipmentID === response.mtoShipments[0].id;",
              "      })",
              "      .forEach((serviceItem) => {",
              "        console.info(serviceItem);",
              "        const si = { id: serviceItem.id };",
              "        if (serviceItem.reServiceCode === \"DDASIT\") {",
              "          si.params = [{",
              "",
              "            key: \"SITPaymentRequestStart\",",
              "            value: \"2021-09-01\",",
              "          },{",
              "            key: \"SITPaymentRequestEnd\",",
              "            value: \"2021-09-30\",",
              "          }];",
              "        }",
              "        paymentRequest.serviceItems.add(si);",
              "      });",
              "    envSet('paymentRequestPayload', JSON.stringify(paymentRequest, null, 2));",
              "    console.info(envGet('paymentRequestPayload'));",
              "  }",
              "",
              "  // If the Move is not found, we'll update the view object appropriately.",
              "  if (pm.response.code === 404) {",
              "    view.alertTitle   = 'Move is not available to GHC Prime Contractor';",
              "    view.alertType    = 'error';",
              "    view.moveCode     = undefHTML;",
              "    view.moveID       = undefHTML;",
              "    view.errorMessage = response.title;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'create-sit-mto-service-items') {",
              "  view.create_sit_mto_service_items = true;",
              "  view.pageAction = 'Create Destination SIT Service Items';",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle     = 'Destination SIT Service Items Created';",
              "    view.alertType      = 'success';",
              "    view.sitServiceItem = response;",
              "  } else {",
              "    console.debug(response);",
              "    view.alertTitle     = 'Destination SIT Service Items Create Failed';",
              "    view.alertType      = 'error';",
              "    view.errorMessage   = response.title;",
              "    view.errorDetail    = response.detail;",
              "    view.errorTraceId   = response.instance;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'mto-shipments-sit-extensions') {",
              "  view.mto_shipments_sit_extensions = true;",
              "",
              "  if (pm.response.code === 201) {",
              "    view.alertTitle = 'SIT Extension Created';",
              "    view.alertType  = 'success';",
              "    view.pageAction = 'Create SIT Extension';",
              "    view.sitExtension = response;",
              "  }",
              "",
              "}",
              "",
              "// Setup the visualization template.",
              "pm.visualizer.set(template, view);",
              ""
            ]
          }
        }
      ]
    },
    {
      "id": "mto-shipments-sit-extensions",
      "name": "Create SIT Extension",
      "request": {
        "description": {
          "content": "\nThis Postman Request was created with the Postman SDK and not the Postman.app\nUI.\n\nThis endpoint creates a storage in transit (SIT) extension request for a\nshipment. A SIT extension request is a request an increase in the shipment day\nallowance for the number of days a shipment is allowed to be in SIT. The total\nSIT day allowance includes time spent in both origin and destination SIT.\n\nThis Request uses the templates found in\n**templates/visualize.html**.\n",
          "type": "text/plain"
        },
        "url": {
          "path": [
            "mto-shipments",
            "{{mtoShipmentID}}",
            "sit-extensions"
          ],
          "host": [
            "{{baseUrl}}"
          ],
          "query": [],
          "variable": []
        },
        "header": [
          {
            "key": "Postman-Request-ID",
            "value": "mto-shipments-sit-extensions"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "method": "POST",
        "body": {
          "mode": "raw",
          "raw": "{\n  \"requestReason\": \"IMPENDING_ASSIGNEMENT\",\n  \"contractorRemarks\": \"We need SIT additional days. The customer has not found a house yet.\",\n  \"requestedDays\": 30\n}"
        }
      },
      "response": [],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "2e10a787-7fa7-4767-a9af-870d0ace16cd",
            "type": "text/javascript",
            "exec": [
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "d31a9669-af35-4a80-92bd-9e70c1e0259c",
            "type": "text/javascript",
            "exec": [
              "// A helpful function that's less characters to type to get a Collection",
              "// Variable.",
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "// A helpful function that's less characters to type to set a Collection",
              "// Variable.",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              "",
              "// A helpful map of relationships between request file names and titles.",
              "const requestIDToTitle = {",
              "  'move-task-orders': 'Get MoveTaskOrder By ID',",
              "  moves: 'Get All Moves',",
              "  'mto-shipments-sit-extensions': 'Create SIT Extension For Shipment ID',",
              "};",
              "",
              "// The response JSON that Postman created.",
              "const response = pm.response.json();",
              "",
              "// The custom header for Postman Request ID which is the filename of the",
              "// ./requests files.",
              "const pmRequestID = pm.request.getHeaders()['Postman-Request-ID'];",
              "",
              "// The template file that is set in example-get-move-task-orders/index.js that",
              "// references example-get-move-task-orders/templates/visualize.html",
              "const template = envGet('visualizeTemplate');",
              "",
              "// A helpful string that can be used to show \"undefined\" in the Visualize tab.",
              "const undefHTML = '<code>undefined</code>';",
              "",
              "// The view object that gets fed into the template file. These are base values",
              "// and will be modified in the next conditional checks around the status code.",
              "var view = {",
              "  pageTitle: requestIDToTitle[pmRequestID],",
              "  pageHeading: 'GHC Contractor',",
              "  pageAction: 'Receives Moves information',",
              "  alertTitle: '',",
              "  alertType: '',",
              "  customerFullName: envGet('customerFullName'),",
              "  moveCode: envGet('moveCode'),",
              "  moveID: envGet('moveID'),",
              "  mtoShipmentID: envGet('mtoShipmentID'),",
              "  mtoShipmentETag: envGet('mtoShipmentETag'),",
              "  reweighID: envGet('reweighID'),",
              "  reweighETag: envGet('reweighETag'),",
              "  errorMessage: '',",
              "  errorDetail: '',",
              "  errorTraceId: '',",
              "  move_task_orders: false,",
              "  moves: false,",
              "  mto_shipments_sit_extensions: false,",
              "};",
              "",
              "if (pm.response.code >= 300) {",
              "  console.debug(response);",
              "  view.alertTitle     = 'Something went wrong';",
              "  view.alertType      = 'error';",
              "  view.errorMessage   = response.title;",
              "  view.errorDetail    = response.detail;",
              "  view.errorTraceId   = response.instance;",
              "}",
              "",
              "if (pmRequestID === 'moves') {",
              "  view.moves = true;",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle = 'List All Moves';",
              "    view.pageAction = 'Get All Moves';",
              "    view.alertType  = 'success';",
              "    view.movesList = response;",
              "  }",
              "",
              "}",
              "",
              "if (pmRequestID === 'move-task-orders') {",
              "  view.move_task_orders = true;",
              "",
              "  // If the Move is found, we'll update the view object appropriately.",
              "  if (pm.response.code === 200) {",
              "    view.customerFullName = response.order.customer.firstName.trim();",
              "    view.customerFullName += ' ';",
              "    view.customerFullName += response.order.customer.lastName.trim();",
              "",
              "    console.info('Setting customerFullName in the Collection Variables');",
              "    envSet('customerFullName', view.customerFullName);",
              "",
              "    view.moveCode = response.moveCode;",
              "    view.moveID = response.id;",
              "",
              "    console.info('Setting moveTaskOrderCode, moveTaskOrderID, moveTaskOrderETag in the Collection Variables');",
              "    envSet('moveTaskOrderCode', view.moveCode);",
              "    envSet('moveTaskOrderID', view.moveID);",
              "    envSet('moveTaskOrderETag', response.eTag);",
              "    envSet('mtoShipmentID', response.mtoShipments[0].id);",
              "    envSet('mtoShipmentETag', response.mtoShipments[0].eTag);",
              "    if (response.mtoShipments[0].reweigh) {",
              "      envSet('reweighID', response.mtoShipments[0].reweigh.id);",
              "      envSet('reweighETag', response.mtoShipments[0].reweigh.eTag);",
              "    }",
              "",
              "    view.alertTitle = 'Move is now available to GHC Prime Contractor';",
              "    view.alertType  = 'success';",
              "",
              "    // prepare a payment request",
              "    const paymentRequest = {",
              "      isFinal: false,",
              "      moveTaskOrderID: view.moveID,",
              "      serviceItems: []",
              "    };",
              "    const serviceItemsToInvoice = envGet('serviceItemsToInvoice');",
              "    response.mtoServiceItems",
              "      .filter((serviceItem) => {",
              "        return serviceItemsToInvoice.includes(serviceItem.reServiceCode) && serviceItem.mtoShipmentID === response.mtoShipments[0].id;",
              "      })",
              "      .forEach((serviceItem) => {",
              "        console.info(serviceItem);",
              "        const si = { id: serviceItem.id };",
              "        if (serviceItem.reServiceCode === \"DDASIT\") {",
              "          si.params = [{",
              "",
              "            key: \"SITPaymentRequestStart\",",
              "            value: \"2021-09-01\",",
              "          },{",
              "            key: \"SITPaymentRequestEnd\",",
              "            value: \"2021-09-30\",",
              "          }];",
              "        }",
              "        paymentRequest.serviceItems.add(si);",
              "      });",
              "    envSet('paymentRequestPayload', JSON.stringify(paymentRequest, null, 2));",
              "    console.info(envGet('paymentRequestPayload'));",
              "  }",
              "",
              "  // If the Move is not found, we'll update the view object appropriately.",
              "  if (pm.response.code === 404) {",
              "    view.alertTitle   = 'Move is not available to GHC Prime Contractor';",
              "    view.alertType    = 'error';",
              "    view.moveCode     = undefHTML;",
              "    view.moveID       = undefHTML;",
              "    view.errorMessage = response.title;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'create-sit-mto-service-items') {",
              "  view.create_sit_mto_service_items = true;",
              "  view.pageAction = 'Create Destination SIT Service Items';",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle     = 'Destination SIT Service Items Created';",
              "    view.alertType      = 'success';",
              "    view.sitServiceItem = response;",
              "  } else {",
              "    console.debug(response);",
              "    view.alertTitle     = 'Destination SIT Service Items Create Failed';",
              "    view.alertType      = 'error';",
              "    view.errorMessage   = response.title;",
              "    view.errorDetail    = response.detail;",
              "    view.errorTraceId   = response.instance;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'mto-shipments-sit-extensions') {",
              "  view.mto_shipments_sit_extensions = true;",
              "",
              "  if (pm.response.code === 201) {",
              "    view.alertTitle = 'SIT Extension Created';",
              "    view.alertType  = 'success';",
              "    view.pageAction = 'Create SIT Extension';",
              "    view.sitExtension = response;",
              "  }",
              "",
              "}",
              "",
              "// Setup the visualization template.",
              "pm.visualizer.set(template, view);",
              ""
            ]
          }
        }
      ]
    },
    {
      "id": "update-mto-shipment-estimated-weight",
      "name": "Update the estimated weight on a shipment",
      "request": {
        "description": {
          "content": "\nThis Postman Request was created with the Postman SDK and not the Postman.app\nUI.\n\nThis endpoint Updates the shipment.\n\nThis Request uses the templates found in\n**templates/visualize.html**.\n",
          "type": "text/plain"
        },
        "url": {
          "path": [
            "mto-shipments",
            "{{mtoShipmentID}}"
          ],
          "host": [
            "{{baseUrl}}"
          ],
          "query": [],
          "variable": []
        },
        "header": [
          {
            "key": "Postman-Request-ID",
            "value": "update-mto-shipment-estimated-weight"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "If-Match",
            "value": "{{mtoShipmentETag}}"
          }
        ],
        "method": "PATCH",
        "body": {
          "mode": "raw",
          "raw": "{\n  \"primeEstimatedWeight\": {{primeEstimatedWeight}}\n}"
        }
      },
      "response": [],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "2b234ece-6b06-44d2-8769-8718b3417fd9",
            "type": "text/javascript",
            "exec": [
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "28169ef2-a16e-4660-8307-8726c8d2507e",
            "type": "text/javascript",
            "exec": [
              "// A helpful function that's less characters to type to get a Collection",
              "// Variable.",
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "// A helpful function that's less characters to type to set a Collection",
              "// Variable.",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              "",
              "// A helpful map of relationships between request file names and titles.",
              "const requestIDToTitle = {",
              "  'move-task-orders': 'Get MoveTaskOrder By ID',",
              "  moves: 'Get All Moves',",
              "  'mto-shipments-sit-extensions': 'Create SIT Extension For Shipment ID',",
              "};",
              "",
              "// The response JSON that Postman created.",
              "const response = pm.response.json();",
              "",
              "// The custom header for Postman Request ID which is the filename of the",
              "// ./requests files.",
              "const pmRequestID = pm.request.getHeaders()['Postman-Request-ID'];",
              "",
              "// The template file that is set in example-get-move-task-orders/index.js that",
              "// references example-get-move-task-orders/templates/visualize.html",
              "const template = envGet('visualizeTemplate');",
              "",
              "// A helpful string that can be used to show \"undefined\" in the Visualize tab.",
              "const undefHTML = '<code>undefined</code>';",
              "",
              "// The view object that gets fed into the template file. These are base values",
              "// and will be modified in the next conditional checks around the status code.",
              "var view = {",
              "  pageTitle: requestIDToTitle[pmRequestID],",
              "  pageHeading: 'GHC Contractor',",
              "  pageAction: 'Receives Moves information',",
              "  alertTitle: '',",
              "  alertType: '',",
              "  customerFullName: envGet('customerFullName'),",
              "  moveCode: envGet('moveCode'),",
              "  moveID: envGet('moveID'),",
              "  mtoShipmentID: envGet('mtoShipmentID'),",
              "  mtoShipmentETag: envGet('mtoShipmentETag'),",
              "  reweighID: envGet('reweighID'),",
              "  reweighETag: envGet('reweighETag'),",
              "  errorMessage: '',",
              "  errorDetail: '',",
              "  errorTraceId: '',",
              "  move_task_orders: false,",
              "  moves: false,",
              "  mto_shipments_sit_extensions: false,",
              "};",
              "",
              "if (pm.response.code >= 300) {",
              "  console.debug(response);",
              "  view.alertTitle     = 'Something went wrong';",
              "  view.alertType      = 'error';",
              "  view.errorMessage   = response.title;",
              "  view.errorDetail    = response.detail;",
              "  view.errorTraceId   = response.instance;",
              "}",
              "",
              "if (pmRequestID === 'moves') {",
              "  view.moves = true;",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle = 'List All Moves';",
              "    view.pageAction = 'Get All Moves';",
              "    view.alertType  = 'success';",
              "    view.movesList = response;",
              "  }",
              "",
              "}",
              "",
              "if (pmRequestID === 'move-task-orders') {",
              "  view.move_task_orders = true;",
              "",
              "  // If the Move is found, we'll update the view object appropriately.",
              "  if (pm.response.code === 200) {",
              "    view.customerFullName = response.order.customer.firstName.trim();",
              "    view.customerFullName += ' ';",
              "    view.customerFullName += response.order.customer.lastName.trim();",
              "",
              "    console.info('Setting customerFullName in the Collection Variables');",
              "    envSet('customerFullName', view.customerFullName);",
              "",
              "    view.moveCode = response.moveCode;",
              "    view.moveID = response.id;",
              "",
              "    console.info('Setting moveTaskOrderCode, moveTaskOrderID, moveTaskOrderETag in the Collection Variables');",
              "    envSet('moveTaskOrderCode', view.moveCode);",
              "    envSet('moveTaskOrderID', view.moveID);",
              "    envSet('moveTaskOrderETag', response.eTag);",
              "    envSet('mtoShipmentID', response.mtoShipments[0].id);",
              "    envSet('mtoShipmentETag', response.mtoShipments[0].eTag);",
              "    if (response.mtoShipments[0].reweigh) {",
              "      envSet('reweighID', response.mtoShipments[0].reweigh.id);",
              "      envSet('reweighETag', response.mtoShipments[0].reweigh.eTag);",
              "    }",
              "",
              "    view.alertTitle = 'Move is now available to GHC Prime Contractor';",
              "    view.alertType  = 'success';",
              "",
              "    // prepare a payment request",
              "    const paymentRequest = {",
              "      isFinal: false,",
              "      moveTaskOrderID: view.moveID,",
              "      serviceItems: []",
              "    };",
              "    const serviceItemsToInvoice = envGet('serviceItemsToInvoice');",
              "    response.mtoServiceItems",
              "      .filter((serviceItem) => {",
              "        return serviceItemsToInvoice.includes(serviceItem.reServiceCode) && serviceItem.mtoShipmentID === response.mtoShipments[0].id;",
              "      })",
              "      .forEach((serviceItem) => {",
              "        console.info(serviceItem);",
              "        const si = { id: serviceItem.id };",
              "        if (serviceItem.reServiceCode === \"DDASIT\") {",
              "          si.params = [{",
              "",
              "            key: \"SITPaymentRequestStart\",",
              "            value: \"2021-09-01\",",
              "          },{",
              "            key: \"SITPaymentRequestEnd\",",
              "            value: \"2021-09-30\",",
              "          }];",
              "        }",
              "        paymentRequest.serviceItems.add(si);",
              "      });",
              "    envSet('paymentRequestPayload', JSON.stringify(paymentRequest, null, 2));",
              "    console.info(envGet('paymentRequestPayload'));",
              "  }",
              "",
              "  // If the Move is not found, we'll update the view object appropriately.",
              "  if (pm.response.code === 404) {",
              "    view.alertTitle   = 'Move is not available to GHC Prime Contractor';",
              "    view.alertType    = 'error';",
              "    view.moveCode     = undefHTML;",
              "    view.moveID       = undefHTML;",
              "    view.errorMessage = response.title;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'create-sit-mto-service-items') {",
              "  view.create_sit_mto_service_items = true;",
              "  view.pageAction = 'Create Destination SIT Service Items';",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle     = 'Destination SIT Service Items Created';",
              "    view.alertType      = 'success';",
              "    view.sitServiceItem = response;",
              "  } else {",
              "    console.debug(response);",
              "    view.alertTitle     = 'Destination SIT Service Items Create Failed';",
              "    view.alertType      = 'error';",
              "    view.errorMessage   = response.title;",
              "    view.errorDetail    = response.detail;",
              "    view.errorTraceId   = response.instance;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'mto-shipments-sit-extensions') {",
              "  view.mto_shipments_sit_extensions = true;",
              "",
              "  if (pm.response.code === 201) {",
              "    view.alertTitle = 'SIT Extension Created';",
              "    view.alertType  = 'success';",
              "    view.pageAction = 'Create SIT Extension';",
              "    view.sitExtension = response;",
              "  }",
              "",
              "}",
              "",
              "// Setup the visualization template.",
              "pm.visualizer.set(template, view);",
              ""
            ]
          }
        }
      ]
    },
    {
      "id": "update-mto-shipment-actual-weight",
      "name": "Update the actual weight on a shipment",
      "request": {
        "description": {
          "content": "\nThis Postman Request was created with the Postman SDK and not the Postman.app\nUI.\n\nThis endpoint Updates the shipment.\n\nThis Request uses the templates found in\n**templates/visualize.html**.\n",
          "type": "text/plain"
        },
        "url": {
          "path": [
            "mto-shipments",
            "{{mtoShipmentID}}"
          ],
          "host": [
            "{{baseUrl}}"
          ],
          "query": [],
          "variable": []
        },
        "header": [
          {
            "key": "Postman-Request-ID",
            "value": "update-mto-shipment-actual-weight"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "If-Match",
            "value": "{{mtoShipmentETag}}"
          }
        ],
        "method": "PATCH",
        "body": {
          "mode": "raw",
          "raw": "{\n  \"primeActualWeight\": {{primeActualWeight}}\n}"
        }
      },
      "response": [],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "8be1b947-dde6-45e6-a6a1-82af5e44e7f8",
            "type": "text/javascript",
            "exec": [
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "d652fde5-211a-4e77-a36a-bad2c45f609f",
            "type": "text/javascript",
            "exec": [
              "// A helpful function that's less characters to type to get a Collection",
              "// Variable.",
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "// A helpful function that's less characters to type to set a Collection",
              "// Variable.",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              "",
              "// A helpful map of relationships between request file names and titles.",
              "const requestIDToTitle = {",
              "  'move-task-orders': 'Get MoveTaskOrder By ID',",
              "  moves: 'Get All Moves',",
              "  'mto-shipments-sit-extensions': 'Create SIT Extension For Shipment ID',",
              "};",
              "",
              "// The response JSON that Postman created.",
              "const response = pm.response.json();",
              "",
              "// The custom header for Postman Request ID which is the filename of the",
              "// ./requests files.",
              "const pmRequestID = pm.request.getHeaders()['Postman-Request-ID'];",
              "",
              "// The template file that is set in example-get-move-task-orders/index.js that",
              "// references example-get-move-task-orders/templates/visualize.html",
              "const template = envGet('visualizeTemplate');",
              "",
              "// A helpful string that can be used to show \"undefined\" in the Visualize tab.",
              "const undefHTML = '<code>undefined</code>';",
              "",
              "// The view object that gets fed into the template file. These are base values",
              "// and will be modified in the next conditional checks around the status code.",
              "var view = {",
              "  pageTitle: requestIDToTitle[pmRequestID],",
              "  pageHeading: 'GHC Contractor',",
              "  pageAction: 'Receives Moves information',",
              "  alertTitle: '',",
              "  alertType: '',",
              "  customerFullName: envGet('customerFullName'),",
              "  moveCode: envGet('moveCode'),",
              "  moveID: envGet('moveID'),",
              "  mtoShipmentID: envGet('mtoShipmentID'),",
              "  mtoShipmentETag: envGet('mtoShipmentETag'),",
              "  reweighID: envGet('reweighID'),",
              "  reweighETag: envGet('reweighETag'),",
              "  errorMessage: '',",
              "  errorDetail: '',",
              "  errorTraceId: '',",
              "  move_task_orders: false,",
              "  moves: false,",
              "  mto_shipments_sit_extensions: false,",
              "};",
              "",
              "if (pm.response.code >= 300) {",
              "  console.debug(response);",
              "  view.alertTitle     = 'Something went wrong';",
              "  view.alertType      = 'error';",
              "  view.errorMessage   = response.title;",
              "  view.errorDetail    = response.detail;",
              "  view.errorTraceId   = response.instance;",
              "}",
              "",
              "if (pmRequestID === 'moves') {",
              "  view.moves = true;",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle = 'List All Moves';",
              "    view.pageAction = 'Get All Moves';",
              "    view.alertType  = 'success';",
              "    view.movesList = response;",
              "  }",
              "",
              "}",
              "",
              "if (pmRequestID === 'move-task-orders') {",
              "  view.move_task_orders = true;",
              "",
              "  // If the Move is found, we'll update the view object appropriately.",
              "  if (pm.response.code === 200) {",
              "    view.customerFullName = response.order.customer.firstName.trim();",
              "    view.customerFullName += ' ';",
              "    view.customerFullName += response.order.customer.lastName.trim();",
              "",
              "    console.info('Setting customerFullName in the Collection Variables');",
              "    envSet('customerFullName', view.customerFullName);",
              "",
              "    view.moveCode = response.moveCode;",
              "    view.moveID = response.id;",
              "",
              "    console.info('Setting moveTaskOrderCode, moveTaskOrderID, moveTaskOrderETag in the Collection Variables');",
              "    envSet('moveTaskOrderCode', view.moveCode);",
              "    envSet('moveTaskOrderID', view.moveID);",
              "    envSet('moveTaskOrderETag', response.eTag);",
              "    envSet('mtoShipmentID', response.mtoShipments[0].id);",
              "    envSet('mtoShipmentETag', response.mtoShipments[0].eTag);",
              "    if (response.mtoShipments[0].reweigh) {",
              "      envSet('reweighID', response.mtoShipments[0].reweigh.id);",
              "      envSet('reweighETag', response.mtoShipments[0].reweigh.eTag);",
              "    }",
              "",
              "    view.alertTitle = 'Move is now available to GHC Prime Contractor';",
              "    view.alertType  = 'success';",
              "",
              "    // prepare a payment request",
              "    const paymentRequest = {",
              "      isFinal: false,",
              "      moveTaskOrderID: view.moveID,",
              "      serviceItems: []",
              "    };",
              "    const serviceItemsToInvoice = envGet('serviceItemsToInvoice');",
              "    response.mtoServiceItems",
              "      .filter((serviceItem) => {",
              "        return serviceItemsToInvoice.includes(serviceItem.reServiceCode) && serviceItem.mtoShipmentID === response.mtoShipments[0].id;",
              "      })",
              "      .forEach((serviceItem) => {",
              "        console.info(serviceItem);",
              "        const si = { id: serviceItem.id };",
              "        if (serviceItem.reServiceCode === \"DDASIT\") {",
              "          si.params = [{",
              "",
              "            key: \"SITPaymentRequestStart\",",
              "            value: \"2021-09-01\",",
              "          },{",
              "            key: \"SITPaymentRequestEnd\",",
              "            value: \"2021-09-30\",",
              "          }];",
              "        }",
              "        paymentRequest.serviceItems.add(si);",
              "      });",
              "    envSet('paymentRequestPayload', JSON.stringify(paymentRequest, null, 2));",
              "    console.info(envGet('paymentRequestPayload'));",
              "  }",
              "",
              "  // If the Move is not found, we'll update the view object appropriately.",
              "  if (pm.response.code === 404) {",
              "    view.alertTitle   = 'Move is not available to GHC Prime Contractor';",
              "    view.alertType    = 'error';",
              "    view.moveCode     = undefHTML;",
              "    view.moveID       = undefHTML;",
              "    view.errorMessage = response.title;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'create-sit-mto-service-items') {",
              "  view.create_sit_mto_service_items = true;",
              "  view.pageAction = 'Create Destination SIT Service Items';",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle     = 'Destination SIT Service Items Created';",
              "    view.alertType      = 'success';",
              "    view.sitServiceItem = response;",
              "  } else {",
              "    console.debug(response);",
              "    view.alertTitle     = 'Destination SIT Service Items Create Failed';",
              "    view.alertType      = 'error';",
              "    view.errorMessage   = response.title;",
              "    view.errorDetail    = response.detail;",
              "    view.errorTraceId   = response.instance;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'mto-shipments-sit-extensions') {",
              "  view.mto_shipments_sit_extensions = true;",
              "",
              "  if (pm.response.code === 201) {",
              "    view.alertTitle = 'SIT Extension Created';",
              "    view.alertType  = 'success';",
              "    view.pageAction = 'Create SIT Extension';",
              "    view.sitExtension = response;",
              "  }",
              "",
              "}",
              "",
              "// Setup the visualization template.",
              "pm.visualizer.set(template, view);",
              ""
            ]
          }
        }
      ]
    },
    {
      "id": "a25e8eaf-3cd7-422d-b79d-0d0e18a2882b",
      "name": "Update the destination address on a shipment",
      "request": {
        "description": {
          "content": "\nThis Postman Request was created with the Postman SDK and not the Postman.app\nUI.\n\nThis endpoint Updates the shipment.\n\nThis Request uses the templates found in\n**templates/visualize.html**.\n",
          "type": "text/plain"
        },
        "url": {
          "path": [
            "mto-shipments",
            "{{mtoShipmentID}}"
          ],
          "host": [
            "{{baseUrl}}"
          ],
          "query": [],
          "variable": []
        },
        "header": [
          {
            "key": "Postman-Request-ID",
            "value": "update-mto-shipment-destination-address"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "If-Match",
            "value": "{{mtoShipmentETag}}"
          }
        ],
        "method": "PATCH",
        "body": {
          "mode": "raw",
          "raw": "{\n  \"destinationAddress\": {\n    \"streetAddress1\": \"7 Q Street\",\n    \"city\": \"Corpus Christi\",\n    \"state\": \"TX\",\n    \"postalCode\": \"78412\",\n    \"country\": \"US\"\n  }\n}"
        }
      },
      "response": [],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "cd012606-e518-4605-9119-5d962d32b3a3",
            "type": "text/javascript",
            "exec": [
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "62261acd-982c-42c9-beba-59d28ad99c7b",
            "type": "text/javascript",
            "exec": [
              "// A helpful function that's less characters to type to get a Collection",
              "// Variable.",
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "// A helpful function that's less characters to type to set a Collection",
              "// Variable.",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              "",
              "// A helpful map of relationships between request file names and titles.",
              "const requestIDToTitle = {",
              "  'move-task-orders': 'Get MoveTaskOrder By ID',",
              "  moves: 'Get All Moves',",
              "  'mto-shipments-sit-extensions': 'Create SIT Extension For Shipment ID',",
              "};",
              "",
              "// The response JSON that Postman created.",
              "const response = pm.response.json();",
              "",
              "// The custom header for Postman Request ID which is the filename of the",
              "// ./requests files.",
              "const pmRequestID = pm.request.getHeaders()['Postman-Request-ID'];",
              "",
              "// The template file that is set in example-get-move-task-orders/index.js that",
              "// references example-get-move-task-orders/templates/visualize.html",
              "const template = envGet('visualizeTemplate');",
              "",
              "// A helpful string that can be used to show \"undefined\" in the Visualize tab.",
              "const undefHTML = '<code>undefined</code>';",
              "",
              "// The view object that gets fed into the template file. These are base values",
              "// and will be modified in the next conditional checks around the status code.",
              "var view = {",
              "  pageTitle: requestIDToTitle[pmRequestID],",
              "  pageHeading: 'GHC Contractor',",
              "  pageAction: 'Receives Moves information',",
              "  alertTitle: '',",
              "  alertType: '',",
              "  customerFullName: envGet('customerFullName'),",
              "  moveCode: envGet('moveCode'),",
              "  moveID: envGet('moveID'),",
              "  mtoShipmentID: envGet('mtoShipmentID'),",
              "  mtoShipmentETag: envGet('mtoShipmentETag'),",
              "  reweighID: envGet('reweighID'),",
              "  reweighETag: envGet('reweighETag'),",
              "  errorMessage: '',",
              "  errorDetail: '',",
              "  errorTraceId: '',",
              "  move_task_orders: false,",
              "  moves: false,",
              "  mto_shipments_sit_extensions: false,",
              "};",
              "",
              "if (pm.response.code >= 300) {",
              "  console.debug(response);",
              "  view.alertTitle     = 'Something went wrong';",
              "  view.alertType      = 'error';",
              "  view.errorMessage   = response.title;",
              "  view.errorDetail    = response.detail;",
              "  view.errorTraceId   = response.instance;",
              "}",
              "",
              "if (pmRequestID === 'moves') {",
              "  view.moves = true;",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle = 'List All Moves';",
              "    view.pageAction = 'Get All Moves';",
              "    view.alertType  = 'success';",
              "    view.movesList = response;",
              "  }",
              "",
              "}",
              "",
              "if (pmRequestID === 'move-task-orders') {",
              "  view.move_task_orders = true;",
              "",
              "  // If the Move is found, we'll update the view object appropriately.",
              "  if (pm.response.code === 200) {",
              "    view.customerFullName = response.order.customer.firstName.trim();",
              "    view.customerFullName += ' ';",
              "    view.customerFullName += response.order.customer.lastName.trim();",
              "",
              "    console.info('Setting customerFullName in the Collection Variables');",
              "    envSet('customerFullName', view.customerFullName);",
              "",
              "    view.moveCode = response.moveCode;",
              "    view.moveID = response.id;",
              "",
              "    console.info('Setting moveTaskOrderCode, moveTaskOrderID, moveTaskOrderETag in the Collection Variables');",
              "    envSet('moveTaskOrderCode', view.moveCode);",
              "    envSet('moveTaskOrderID', view.moveID);",
              "    envSet('moveTaskOrderETag', response.eTag);",
              "    envSet('mtoShipmentID', response.mtoShipments[0].id);",
              "    envSet('mtoShipmentETag', response.mtoShipments[0].eTag);",
              "    if (response.mtoShipments[0].reweigh) {",
              "      envSet('reweighID', response.mtoShipments[0].reweigh.id);",
              "      envSet('reweighETag', response.mtoShipments[0].reweigh.eTag);",
              "    }",
              "",
              "    view.alertTitle = 'Move is now available to GHC Prime Contractor';",
              "    view.alertType  = 'success';",
              "",
              "    // prepare a payment request",
              "    const paymentRequest = {",
              "      isFinal: false,",
              "      moveTaskOrderID: view.moveID,",
              "      serviceItems: []",
              "    };",
              "    const serviceItemsToInvoice = envGet('serviceItemsToInvoice');",
              "    response.mtoServiceItems",
              "      .filter((serviceItem) => {",
              "        return serviceItemsToInvoice.includes(serviceItem.reServiceCode) && serviceItem.mtoShipmentID === response.mtoShipments[0].id;",
              "      })",
              "      .forEach((serviceItem) => {",
              "        console.info(serviceItem);",
              "        const si = { id: serviceItem.id };",
              "        if (serviceItem.reServiceCode === \"DDASIT\") {",
              "          si.params = [{",
              "",
              "            key: \"SITPaymentRequestStart\",",
              "            value: \"2021-09-01\",",
              "          },{",
              "            key: \"SITPaymentRequestEnd\",",
              "            value: \"2021-09-30\",",
              "          }];",
              "        }",
              "        paymentRequest.serviceItems.add(si);",
              "      });",
              "    envSet('paymentRequestPayload', JSON.stringify(paymentRequest, null, 2));",
              "    console.info(envGet('paymentRequestPayload'));",
              "  }",
              "",
              "  // If the Move is not found, we'll update the view object appropriately.",
              "  if (pm.response.code === 404) {",
              "    view.alertTitle   = 'Move is not available to GHC Prime Contractor';",
              "    view.alertType    = 'error';",
              "    view.moveCode     = undefHTML;",
              "    view.moveID       = undefHTML;",
              "    view.errorMessage = response.title;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'create-sit-mto-service-items') {",
              "  view.create_sit_mto_service_items = true;",
              "  view.pageAction = 'Create Destination SIT Service Items';",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle     = 'Destination SIT Service Items Created';",
              "    view.alertType      = 'success';",
              "    view.sitServiceItem = response;",
              "  } else {",
              "    console.debug(response);",
              "    view.alertTitle     = 'Destination SIT Service Items Create Failed';",
              "    view.alertType      = 'error';",
              "    view.errorMessage   = response.title;",
              "    view.errorDetail    = response.detail;",
              "    view.errorTraceId   = response.instance;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'mto-shipments-sit-extensions') {",
              "  view.mto_shipments_sit_extensions = true;",
              "",
              "  if (pm.response.code === 201) {",
              "    view.alertTitle = 'SIT Extension Created';",
              "    view.alertType  = 'success';",
              "    view.pageAction = 'Create SIT Extension';",
              "    view.sitExtension = response;",
              "  }",
              "",
              "}",
              "",
              "// Setup the visualization template.",
              "pm.visualizer.set(template, view);",
              ""
            ]
          }
        }
      ]
    },
    {
      "id": "update-mto-shipment-pickup-date",
      "name": "Update the pickup date on a shipment",
      "request": {
        "description": {
          "content": "\nThis Postman Request was created with the Postman SDK and not the Postman.app\nUI.\n\nThis endpoint Updates the shipment.\n\nThis Request uses the templates found in\n**templates/visualize.html**.\n",
          "type": "text/plain"
        },
        "url": {
          "path": [
            "mto-shipments",
            "{{mtoShipmentID}}"
          ],
          "host": [
            "{{baseUrl}}"
          ],
          "query": [],
          "variable": []
        },
        "header": [
          {
            "key": "Postman-Request-ID",
            "value": "update-mto-shipment-pickup-date"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "If-Match",
            "value": "{{mtoShipmentETag}}"
          }
        ],
        "method": "PATCH",
        "body": {
          "mode": "raw",
          "raw": "{\n  \"actualPickupDate\": \"2021-10-01\"\n}"
        }
      },
      "response": [],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "2869525c-2e81-4bc7-b99d-4ff94f8f8bc3",
            "type": "text/javascript",
            "exec": [
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "4e20e169-903a-4651-9635-6b124222434c",
            "type": "text/javascript",
            "exec": [
              "// A helpful function that's less characters to type to get a Collection",
              "// Variable.",
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "// A helpful function that's less characters to type to set a Collection",
              "// Variable.",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              "",
              "// A helpful map of relationships between request file names and titles.",
              "const requestIDToTitle = {",
              "  'move-task-orders': 'Get MoveTaskOrder By ID',",
              "  moves: 'Get All Moves',",
              "  'mto-shipments-sit-extensions': 'Create SIT Extension For Shipment ID',",
              "};",
              "",
              "// The response JSON that Postman created.",
              "const response = pm.response.json();",
              "",
              "// The custom header for Postman Request ID which is the filename of the",
              "// ./requests files.",
              "const pmRequestID = pm.request.getHeaders()['Postman-Request-ID'];",
              "",
              "// The template file that is set in example-get-move-task-orders/index.js that",
              "// references example-get-move-task-orders/templates/visualize.html",
              "const template = envGet('visualizeTemplate');",
              "",
              "// A helpful string that can be used to show \"undefined\" in the Visualize tab.",
              "const undefHTML = '<code>undefined</code>';",
              "",
              "// The view object that gets fed into the template file. These are base values",
              "// and will be modified in the next conditional checks around the status code.",
              "var view = {",
              "  pageTitle: requestIDToTitle[pmRequestID],",
              "  pageHeading: 'GHC Contractor',",
              "  pageAction: 'Receives Moves information',",
              "  alertTitle: '',",
              "  alertType: '',",
              "  customerFullName: envGet('customerFullName'),",
              "  moveCode: envGet('moveCode'),",
              "  moveID: envGet('moveID'),",
              "  mtoShipmentID: envGet('mtoShipmentID'),",
              "  mtoShipmentETag: envGet('mtoShipmentETag'),",
              "  reweighID: envGet('reweighID'),",
              "  reweighETag: envGet('reweighETag'),",
              "  errorMessage: '',",
              "  errorDetail: '',",
              "  errorTraceId: '',",
              "  move_task_orders: false,",
              "  moves: false,",
              "  mto_shipments_sit_extensions: false,",
              "};",
              "",
              "if (pm.response.code >= 300) {",
              "  console.debug(response);",
              "  view.alertTitle     = 'Something went wrong';",
              "  view.alertType      = 'error';",
              "  view.errorMessage   = response.title;",
              "  view.errorDetail    = response.detail;",
              "  view.errorTraceId   = response.instance;",
              "}",
              "",
              "if (pmRequestID === 'moves') {",
              "  view.moves = true;",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle = 'List All Moves';",
              "    view.pageAction = 'Get All Moves';",
              "    view.alertType  = 'success';",
              "    view.movesList = response;",
              "  }",
              "",
              "}",
              "",
              "if (pmRequestID === 'move-task-orders') {",
              "  view.move_task_orders = true;",
              "",
              "  // If the Move is found, we'll update the view object appropriately.",
              "  if (pm.response.code === 200) {",
              "    view.customerFullName = response.order.customer.firstName.trim();",
              "    view.customerFullName += ' ';",
              "    view.customerFullName += response.order.customer.lastName.trim();",
              "",
              "    console.info('Setting customerFullName in the Collection Variables');",
              "    envSet('customerFullName', view.customerFullName);",
              "",
              "    view.moveCode = response.moveCode;",
              "    view.moveID = response.id;",
              "",
              "    console.info('Setting moveTaskOrderCode, moveTaskOrderID, moveTaskOrderETag in the Collection Variables');",
              "    envSet('moveTaskOrderCode', view.moveCode);",
              "    envSet('moveTaskOrderID', view.moveID);",
              "    envSet('moveTaskOrderETag', response.eTag);",
              "    envSet('mtoShipmentID', response.mtoShipments[0].id);",
              "    envSet('mtoShipmentETag', response.mtoShipments[0].eTag);",
              "    if (response.mtoShipments[0].reweigh) {",
              "      envSet('reweighID', response.mtoShipments[0].reweigh.id);",
              "      envSet('reweighETag', response.mtoShipments[0].reweigh.eTag);",
              "    }",
              "",
              "    view.alertTitle = 'Move is now available to GHC Prime Contractor';",
              "    view.alertType  = 'success';",
              "",
              "    // prepare a payment request",
              "    const paymentRequest = {",
              "      isFinal: false,",
              "      moveTaskOrderID: view.moveID,",
              "      serviceItems: []",
              "    };",
              "    const serviceItemsToInvoice = envGet('serviceItemsToInvoice');",
              "    response.mtoServiceItems",
              "      .filter((serviceItem) => {",
              "        return serviceItemsToInvoice.includes(serviceItem.reServiceCode) && serviceItem.mtoShipmentID === response.mtoShipments[0].id;",
              "      })",
              "      .forEach((serviceItem) => {",
              "        console.info(serviceItem);",
              "        const si = { id: serviceItem.id };",
              "        if (serviceItem.reServiceCode === \"DDASIT\") {",
              "          si.params = [{",
              "",
              "            key: \"SITPaymentRequestStart\",",
              "            value: \"2021-09-01\",",
              "          },{",
              "            key: \"SITPaymentRequestEnd\",",
              "            value: \"2021-09-30\",",
              "          }];",
              "        }",
              "        paymentRequest.serviceItems.add(si);",
              "      });",
              "    envSet('paymentRequestPayload', JSON.stringify(paymentRequest, null, 2));",
              "    console.info(envGet('paymentRequestPayload'));",
              "  }",
              "",
              "  // If the Move is not found, we'll update the view object appropriately.",
              "  if (pm.response.code === 404) {",
              "    view.alertTitle   = 'Move is not available to GHC Prime Contractor';",
              "    view.alertType    = 'error';",
              "    view.moveCode     = undefHTML;",
              "    view.moveID       = undefHTML;",
              "    view.errorMessage = response.title;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'create-sit-mto-service-items') {",
              "  view.create_sit_mto_service_items = true;",
              "  view.pageAction = 'Create Destination SIT Service Items';",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle     = 'Destination SIT Service Items Created';",
              "    view.alertType      = 'success';",
              "    view.sitServiceItem = response;",
              "  } else {",
              "    console.debug(response);",
              "    view.alertTitle     = 'Destination SIT Service Items Create Failed';",
              "    view.alertType      = 'error';",
              "    view.errorMessage   = response.title;",
              "    view.errorDetail    = response.detail;",
              "    view.errorTraceId   = response.instance;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'mto-shipments-sit-extensions') {",
              "  view.mto_shipments_sit_extensions = true;",
              "",
              "  if (pm.response.code === 201) {",
              "    view.alertTitle = 'SIT Extension Created';",
              "    view.alertType  = 'success';",
              "    view.pageAction = 'Create SIT Extension';",
              "    view.sitExtension = response;",
              "  }",
              "",
              "}",
              "",
              "// Setup the visualization template.",
              "pm.visualizer.set(template, view);",
              ""
            ]
          }
        }
      ]
    },
    {
      "id": "add-reweigh-weight",
      "name": "Update the reweigh weight on a shipment",
      "request": {
        "description": {
          "content": "\nThis Postman Request was created with the Postman SDK and not the Postman.app\nUI.\n\nThis endpoint Updates the shipment.\n\nThis Request uses the templates found in\n**templates/visualize.html**.\n",
          "type": "text/plain"
        },
        "url": {
          "path": [
            "mto-shipments",
            "{{mtoShipmentID}}",
            "reweighs",
            "{{reweighID}}"
          ],
          "host": [
            "{{baseUrl}}"
          ],
          "query": [],
          "variable": []
        },
        "header": [
          {
            "key": "Postman-Request-ID",
            "value": "add-reweigh-weight"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "If-Match",
            "value": "{{reweighETag}}"
          }
        ],
        "method": "PATCH",
        "body": {
          "mode": "raw",
          "raw": "{\n  \"verificationReason\": \"The reweigh was not performed because the shipment was already delivered\"\n}"
        }
      },
      "response": [],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "fd3bc71b-fd96-4daf-bb11-84c934757a52",
            "type": "text/javascript",
            "exec": [
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "48c94f6e-ee42-4863-9cad-62db2fa3ece5",
            "type": "text/javascript",
            "exec": [
              "// A helpful function that's less characters to type to get a Collection",
              "// Variable.",
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "// A helpful function that's less characters to type to set a Collection",
              "// Variable.",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              "",
              "// A helpful map of relationships between request file names and titles.",
              "const requestIDToTitle = {",
              "  'move-task-orders': 'Get MoveTaskOrder By ID',",
              "  moves: 'Get All Moves',",
              "  'mto-shipments-sit-extensions': 'Create SIT Extension For Shipment ID',",
              "};",
              "",
              "// The response JSON that Postman created.",
              "const response = pm.response.json();",
              "",
              "// The custom header for Postman Request ID which is the filename of the",
              "// ./requests files.",
              "const pmRequestID = pm.request.getHeaders()['Postman-Request-ID'];",
              "",
              "// The template file that is set in example-get-move-task-orders/index.js that",
              "// references example-get-move-task-orders/templates/visualize.html",
              "const template = envGet('visualizeTemplate');",
              "",
              "// A helpful string that can be used to show \"undefined\" in the Visualize tab.",
              "const undefHTML = '<code>undefined</code>';",
              "",
              "// The view object that gets fed into the template file. These are base values",
              "// and will be modified in the next conditional checks around the status code.",
              "var view = {",
              "  pageTitle: requestIDToTitle[pmRequestID],",
              "  pageHeading: 'GHC Contractor',",
              "  pageAction: 'Receives Moves information',",
              "  alertTitle: '',",
              "  alertType: '',",
              "  customerFullName: envGet('customerFullName'),",
              "  moveCode: envGet('moveCode'),",
              "  moveID: envGet('moveID'),",
              "  mtoShipmentID: envGet('mtoShipmentID'),",
              "  mtoShipmentETag: envGet('mtoShipmentETag'),",
              "  reweighID: envGet('reweighID'),",
              "  reweighETag: envGet('reweighETag'),",
              "  errorMessage: '',",
              "  errorDetail: '',",
              "  errorTraceId: '',",
              "  move_task_orders: false,",
              "  moves: false,",
              "  mto_shipments_sit_extensions: false,",
              "};",
              "",
              "if (pm.response.code >= 300) {",
              "  console.debug(response);",
              "  view.alertTitle     = 'Something went wrong';",
              "  view.alertType      = 'error';",
              "  view.errorMessage   = response.title;",
              "  view.errorDetail    = response.detail;",
              "  view.errorTraceId   = response.instance;",
              "}",
              "",
              "if (pmRequestID === 'moves') {",
              "  view.moves = true;",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle = 'List All Moves';",
              "    view.pageAction = 'Get All Moves';",
              "    view.alertType  = 'success';",
              "    view.movesList = response;",
              "  }",
              "",
              "}",
              "",
              "if (pmRequestID === 'move-task-orders') {",
              "  view.move_task_orders = true;",
              "",
              "  // If the Move is found, we'll update the view object appropriately.",
              "  if (pm.response.code === 200) {",
              "    view.customerFullName = response.order.customer.firstName.trim();",
              "    view.customerFullName += ' ';",
              "    view.customerFullName += response.order.customer.lastName.trim();",
              "",
              "    console.info('Setting customerFullName in the Collection Variables');",
              "    envSet('customerFullName', view.customerFullName);",
              "",
              "    view.moveCode = response.moveCode;",
              "    view.moveID = response.id;",
              "",
              "    console.info('Setting moveTaskOrderCode, moveTaskOrderID, moveTaskOrderETag in the Collection Variables');",
              "    envSet('moveTaskOrderCode', view.moveCode);",
              "    envSet('moveTaskOrderID', view.moveID);",
              "    envSet('moveTaskOrderETag', response.eTag);",
              "    envSet('mtoShipmentID', response.mtoShipments[0].id);",
              "    envSet('mtoShipmentETag', response.mtoShipments[0].eTag);",
              "    if (response.mtoShipments[0].reweigh) {",
              "      envSet('reweighID', response.mtoShipments[0].reweigh.id);",
              "      envSet('reweighETag', response.mtoShipments[0].reweigh.eTag);",
              "    }",
              "",
              "    view.alertTitle = 'Move is now available to GHC Prime Contractor';",
              "    view.alertType  = 'success';",
              "",
              "    // prepare a payment request",
              "    const paymentRequest = {",
              "      isFinal: false,",
              "      moveTaskOrderID: view.moveID,",
              "      serviceItems: []",
              "    };",
              "    const serviceItemsToInvoice = envGet('serviceItemsToInvoice');",
              "    response.mtoServiceItems",
              "      .filter((serviceItem) => {",
              "        return serviceItemsToInvoice.includes(serviceItem.reServiceCode) && serviceItem.mtoShipmentID === response.mtoShipments[0].id;",
              "      })",
              "      .forEach((serviceItem) => {",
              "        console.info(serviceItem);",
              "        const si = { id: serviceItem.id };",
              "        if (serviceItem.reServiceCode === \"DDASIT\") {",
              "          si.params = [{",
              "",
              "            key: \"SITPaymentRequestStart\",",
              "            value: \"2021-09-01\",",
              "          },{",
              "            key: \"SITPaymentRequestEnd\",",
              "            value: \"2021-09-30\",",
              "          }];",
              "        }",
              "        paymentRequest.serviceItems.add(si);",
              "      });",
              "    envSet('paymentRequestPayload', JSON.stringify(paymentRequest, null, 2));",
              "    console.info(envGet('paymentRequestPayload'));",
              "  }",
              "",
              "  // If the Move is not found, we'll update the view object appropriately.",
              "  if (pm.response.code === 404) {",
              "    view.alertTitle   = 'Move is not available to GHC Prime Contractor';",
              "    view.alertType    = 'error';",
              "    view.moveCode     = undefHTML;",
              "    view.moveID       = undefHTML;",
              "    view.errorMessage = response.title;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'create-sit-mto-service-items') {",
              "  view.create_sit_mto_service_items = true;",
              "  view.pageAction = 'Create Destination SIT Service Items';",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle     = 'Destination SIT Service Items Created';",
              "    view.alertType      = 'success';",
              "    view.sitServiceItem = response;",
              "  } else {",
              "    console.debug(response);",
              "    view.alertTitle     = 'Destination SIT Service Items Create Failed';",
              "    view.alertType      = 'error';",
              "    view.errorMessage   = response.title;",
              "    view.errorDetail    = response.detail;",
              "    view.errorTraceId   = response.instance;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'mto-shipments-sit-extensions') {",
              "  view.mto_shipments_sit_extensions = true;",
              "",
              "  if (pm.response.code === 201) {",
              "    view.alertTitle = 'SIT Extension Created';",
              "    view.alertType  = 'success';",
              "    view.pageAction = 'Create SIT Extension';",
              "    view.sitExtension = response;",
              "  }",
              "",
              "}",
              "",
              "// Setup the visualization template.",
              "pm.visualizer.set(template, view);",
              ""
            ]
          }
        }
      ]
    },
    {
      "id": "create-payment-request",
      "name": "Create Payment Request",
      "request": {
        "description": {
          "content": "\nThis Postman Request was created with the Postman SDK and not the Postman.app\nUI.\n\nThis Request uses the templates found in\n**templates/visualize.html**.\n",
          "type": "text/plain"
        },
        "url": {
          "path": [
            "payment-requests"
          ],
          "host": [
            "{{baseUrl}}"
          ],
          "query": [],
          "variable": []
        },
        "header": [
          {
            "key": "Postman-Request-ID",
            "value": "create-payment-request"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "method": "POST",
        "body": {
          "mode": "raw",
          "raw": "{{paymentRequestPayload}}"
        }
      },
      "response": [],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "be424d99-16ad-4fac-9e0c-2f51b7a8bb98",
            "type": "text/javascript",
            "exec": [
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "79ceaaf2-98e6-4c13-9967-ca49ad4851f4",
            "type": "text/javascript",
            "exec": [
              "// A helpful function that's less characters to type to get a Collection",
              "// Variable.",
              "function envGet(v) {",
              "  return pm.collectionVariables.get(v);",
              "}",
              "",
              "// A helpful function that's less characters to type to set a Collection",
              "// Variable.",
              "function envSet(k, v) {",
              "  pm.collectionVariables.set(k, v);",
              "}",
              "",
              "// A helpful map of relationships between request file names and titles.",
              "const requestIDToTitle = {",
              "  'move-task-orders': 'Get MoveTaskOrder By ID',",
              "  moves: 'Get All Moves',",
              "  'mto-shipments-sit-extensions': 'Create SIT Extension For Shipment ID',",
              "};",
              "",
              "// The response JSON that Postman created.",
              "const response = pm.response.json();",
              "",
              "// The custom header for Postman Request ID which is the filename of the",
              "// ./requests files.",
              "const pmRequestID = pm.request.getHeaders()['Postman-Request-ID'];",
              "",
              "// The template file that is set in example-get-move-task-orders/index.js that",
              "// references example-get-move-task-orders/templates/visualize.html",
              "const template = envGet('visualizeTemplate');",
              "",
              "// A helpful string that can be used to show \"undefined\" in the Visualize tab.",
              "const undefHTML = '<code>undefined</code>';",
              "",
              "// The view object that gets fed into the template file. These are base values",
              "// and will be modified in the next conditional checks around the status code.",
              "var view = {",
              "  pageTitle: requestIDToTitle[pmRequestID],",
              "  pageHeading: 'GHC Contractor',",
              "  pageAction: 'Receives Moves information',",
              "  alertTitle: '',",
              "  alertType: '',",
              "  customerFullName: envGet('customerFullName'),",
              "  moveCode: envGet('moveCode'),",
              "  moveID: envGet('moveID'),",
              "  mtoShipmentID: envGet('mtoShipmentID'),",
              "  mtoShipmentETag: envGet('mtoShipmentETag'),",
              "  reweighID: envGet('reweighID'),",
              "  reweighETag: envGet('reweighETag'),",
              "  errorMessage: '',",
              "  errorDetail: '',",
              "  errorTraceId: '',",
              "  move_task_orders: false,",
              "  moves: false,",
              "  mto_shipments_sit_extensions: false,",
              "};",
              "",
              "if (pm.response.code >= 300) {",
              "  console.debug(response);",
              "  view.alertTitle     = 'Something went wrong';",
              "  view.alertType      = 'error';",
              "  view.errorMessage   = response.title;",
              "  view.errorDetail    = response.detail;",
              "  view.errorTraceId   = response.instance;",
              "}",
              "",
              "if (pmRequestID === 'moves') {",
              "  view.moves = true;",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle = 'List All Moves';",
              "    view.pageAction = 'Get All Moves';",
              "    view.alertType  = 'success';",
              "    view.movesList = response;",
              "  }",
              "",
              "}",
              "",
              "if (pmRequestID === 'move-task-orders') {",
              "  view.move_task_orders = true;",
              "",
              "  // If the Move is found, we'll update the view object appropriately.",
              "  if (pm.response.code === 200) {",
              "    view.customerFullName = response.order.customer.firstName.trim();",
              "    view.customerFullName += ' ';",
              "    view.customerFullName += response.order.customer.lastName.trim();",
              "",
              "    console.info('Setting customerFullName in the Collection Variables');",
              "    envSet('customerFullName', view.customerFullName);",
              "",
              "    view.moveCode = response.moveCode;",
              "    view.moveID = response.id;",
              "",
              "    console.info('Setting moveTaskOrderCode, moveTaskOrderID, moveTaskOrderETag in the Collection Variables');",
              "    envSet('moveTaskOrderCode', view.moveCode);",
              "    envSet('moveTaskOrderID', view.moveID);",
              "    envSet('moveTaskOrderETag', response.eTag);",
              "    envSet('mtoShipmentID', response.mtoShipments[0].id);",
              "    envSet('mtoShipmentETag', response.mtoShipments[0].eTag);",
              "    if (response.mtoShipments[0].reweigh) {",
              "      envSet('reweighID', response.mtoShipments[0].reweigh.id);",
              "      envSet('reweighETag', response.mtoShipments[0].reweigh.eTag);",
              "    }",
              "",
              "    view.alertTitle = 'Move is now available to GHC Prime Contractor';",
              "    view.alertType  = 'success';",
              "",
              "    // prepare a payment request",
              "    const paymentRequest = {",
              "      isFinal: false,",
              "      moveTaskOrderID: view.moveID,",
              "      serviceItems: []",
              "    };",
              "    const serviceItemsToInvoice = envGet('serviceItemsToInvoice');",
              "    response.mtoServiceItems",
              "      .filter((serviceItem) => {",
              "        return serviceItemsToInvoice.includes(serviceItem.reServiceCode) && serviceItem.mtoShipmentID === response.mtoShipments[0].id;",
              "      })",
              "      .forEach((serviceItem) => {",
              "        console.info(serviceItem);",
              "        const si = { id: serviceItem.id };",
              "        if (serviceItem.reServiceCode === \"DDASIT\") {",
              "          si.params = [{",
              "",
              "            key: \"SITPaymentRequestStart\",",
              "            value: \"2021-09-01\",",
              "          },{",
              "            key: \"SITPaymentRequestEnd\",",
              "            value: \"2021-09-30\",",
              "          }];",
              "        }",
              "        paymentRequest.serviceItems.add(si);",
              "      });",
              "    envSet('paymentRequestPayload', JSON.stringify(paymentRequest, null, 2));",
              "    console.info(envGet('paymentRequestPayload'));",
              "  }",
              "",
              "  // If the Move is not found, we'll update the view object appropriately.",
              "  if (pm.response.code === 404) {",
              "    view.alertTitle   = 'Move is not available to GHC Prime Contractor';",
              "    view.alertType    = 'error';",
              "    view.moveCode     = undefHTML;",
              "    view.moveID       = undefHTML;",
              "    view.errorMessage = response.title;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'create-sit-mto-service-items') {",
              "  view.create_sit_mto_service_items = true;",
              "  view.pageAction = 'Create Destination SIT Service Items';",
              "",
              "  if (pm.response.code === 200) {",
              "    view.alertTitle     = 'Destination SIT Service Items Created';",
              "    view.alertType      = 'success';",
              "    view.sitServiceItem = response;",
              "  } else {",
              "    console.debug(response);",
              "    view.alertTitle     = 'Destination SIT Service Items Create Failed';",
              "    view.alertType      = 'error';",
              "    view.errorMessage   = response.title;",
              "    view.errorDetail    = response.detail;",
              "    view.errorTraceId   = response.instance;",
              "  }",
              "}",
              "",
              "if (pmRequestID === 'mto-shipments-sit-extensions') {",
              "  view.mto_shipments_sit_extensions = true;",
              "",
              "  if (pm.response.code === 201) {",
              "    view.alertTitle = 'SIT Extension Created';",
              "    view.alertType  = 'success';",
              "    view.pageAction = 'Create SIT Extension';",
              "    view.sitExtension = response;",
              "  }",
              "",
              "}",
              "",
              "// Setup the visualization template.",
              "pm.visualizer.set(template, view);",
              ""
            ]
          }
        }
      ]
    }
  ],
  "event": [],
  "variable": [
    {
      "id": "baseUrl",
      "type": "string",
      "value": "https://primelocal:9443/prime/v1"
    },
    {
      "id": "serviceItemsToInvoice",
      "type": "string",
      "value": "DLH,FSC"
    },
    {
      "id": "moveTaskOrderID",
      "type": "string",
      "value": "RDY4PY"
    },
    {
      "id": "moveTaskOrderCode",
      "type": "string",
      "value": "RDY4PY"
    },
    {
      "id": "sitDate",
      "type": "string",
      "value": "2021-09-08"
    },
    {
      "id": "primeEstimatedWeight",
      "type": "any",
      "value": 13000
    },
    {
      "id": "primeActualWeight",
      "type": "any",
      "value": 13128
    },
    {
      "id": "customerFullName",
      "type": "string",
      "value": ""
    },
    {
      "id": "mtoShipmentID",
      "type": "string",
      "value": ""
    },
    {
      "id": "mtoShipmentETag",
      "type": "string",
      "value": ""
    },
    {
      "id": "reweighID",
      "type": "string",
      "value": ""
    },
    {
      "id": "reweighETag",
      "type": "string",
      "value": ""
    },
    {
      "id": "moveTaskOrderETag",
      "type": "string",
      "value": ""
    },
    {
      "id": "paymentRequestPayload",
      "type": "string",
      "value": ""
    },
    {
      "id": "visualizeTemplate",
      "type": "string",
      "value": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>{{pageTitle}}</title>\n  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/uswds/2.11.1/css/uswds.min.css\" integrity=\"sha512-jTdlH2LXTQ/nSPgY0SoocLYibqnSu0B7/DM2cmA3jPrw89dbtZKeytKXDJPYlZpjkHfHUlTe/4MTGovdM73AJw==\" crossorigin=\"anonymous\" />\n  <link href=\"https://gitcdn.link/repo/transcom/mymove/master/public/static/style.css\" rel=\"stylesheet\">\n  <link href=\"https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;700&display=swap\" rel=\"stylesheet\" />\n  <style>\n  li {\n    list-style-type: none !important;\n  }\n  .usa-nav-container {\n    max-width: 100% !important;\n  }\n  .usa-logo__text {\n    width: 100%;\n    text-align: center;\n  }\n  .my-prime-container {\n    padding: 0 20px;\n  }\n  hr.divider {\n    height: 10px;\n    margin: 0;\n    border: none;\n    border-top: 1px dotted #252f3e;\n  }\n  </style>\n</head>\n<body>\n  <header class=\"usa-header usa-header--basic\" role=\"banner\">\n    <div class=\"my-move-header\">\n      <p class=\"usa-logo__text\">(For Demo Purposes Only) {{pageTitle}}</p>\n    </div>\n  </header>\n\n  <div class=\"my-prime-container\">\n    <h2 class=\"site-preview-heading font-sans-2xl\">{{pageHeading}}</h2>\n    <h3 class=\"site-component-section-title font-sans-xl\">{{pageAction}}</h3>\n\n    <div class=\"usa-alert usa-alert--{{alertType}}\" id=\"alert\" >\n      <div class=\"usa-alert__body\">\n        <h4 id=\"alert-heading\" class=\"usa-alert__heading margin-bottom-4\">{{alertTitle}}</h4>\n        {{#if move_task_orders}}\n        <ul class=\"usa-content-list font-mono-md\">\n          <li>\n            <strong>Move code:</strong> {{{moveCode}}}\n          </li>\n          <li>\n            <strong>Move ID:</strong> {{{moveID}}}\n          </li>\n          {{#if errorMessage}}\n          <li>\n            <strong>Error: </strong> {{errorMessage}}\n          </li>\n          {{else}}\n          <li>\n            <strong>Customer name:</strong> {{customerFullName}}\n          </li>\n          {{/if}}\n        </ul>\n        {{/if}}\n        {{#if moves}}\n        <ul class=\"usa-content-list font-mono-md\">\n        {{#each movesList}}\n        <hr>\n        {{#each this}}\n        <li>\n          <strong>{{@key}}:</strong> {{this}}\n        </li>\n        {{/each}}\n        {{/each}}\n        </ul>\n        {{/if}}\n        {{#if create_sit_mto_service_items}}\n          {{#each sitServiceItem}}\n            {{#each this}} <!-- each service item as 3 are created -->\n            <ul class=\"usa-content-list font-mono-md\">\n              <li>\n                <strong>{{@key}}: </strong> {{{this}}}\n              </li>\n            </ul>\n            {{/each}}\n          {{/each}}\n        {{/if}}\n        {{#if mto_shipments_sit_extensions}}\n        <ul class=\"usa-content-list font-mono-md\">\n          {{#each sitExtension}}\n          <li>\n            <strong>{{@key}}: </strong> {{{this}}}\n          </li>\n          {{/each}}\n        </ul>\n        {{/if}}\n        {{#if errorMessage}}\n        <li>\n          <strong>Error: </strong> {{errorMessage}}\n        </li>\n        <li>\n          <strong>Detail: </strong> {{errorDetail}}\n        </li>\n        <li>\n          <strong>Trace ID: </strong> {{errorTraceId}}\n        </li>\n        {{/if}}\n      </div>\n    </div>\n\n  </div>\n</body>\n</html>\n\n"
    }
  ],
  "info": {
    "_postman_id": "33522e8f-3357-4ab3-9a76-0a181e0b8e13",
    "name": "September 2021 Slice Demo",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": {
      "content": "\n# September 2021 Slice Demo\n\nSee the link to the slice demo script\n\nThis Postman Collection was created with the Postman SDK and not the Postman.app UI.\n",
      "type": "text/plain"
    }
  }
}